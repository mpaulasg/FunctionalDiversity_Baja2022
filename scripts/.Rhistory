levels=c("COMH", "COML", "EEL", "RAY"), ordered = TRUE )
rownames(traits) <- traits$species_id
traits <- tibble::column_to_rownames(traits, var = "species")
# load trait types data:
traits_type <- read.csv(here::here("data", "traits_type.csv"))
fish_traits_summ <- mFD::sp.tr.summary(tr_cat = traits_type,
sp_tr  = traits)
fish_traits_summ$tr_summary_list
# compute functional distance based on traits:
sp_dist <- mFD::funct.dist(
sp_tr  = traits,
tr_cat = traits_type,
metric = "gower",
scale_euclid  = "scale_center",
ordinal_var = "classic",
weight_type = "equal",
stop_if_NA  = TRUE)
# is there a lot of distances = 0? (group into FEs or not?)
sp_dist2 <- as.matrix(sp_dist)
inds <- which(sp_dist2 == min(sp_dist2), arr.ind=TRUE)
inds
sp_dist
# compute the quality of functional spaces:
fspaces_quality <- mFD::quality.fspaces(
sp_dist             = sp_dist,
maxdim_pcoa         = 10,
deviation_weighting = "absolute",
fdist_scaling       = FALSE,
fdendro             = "average")
# retrieve table of quality metric:
fspaces_quality$quality_fspaces
fs_qual <- mFD::quality.fspaces.plot(
fspaces_quality            = fspaces_quality,
quality_metric             = "mad",
fspaces_plot               = c("tree_average","pcoa_1d", "pcoa_2d", "pcoa_3d", "pcoa_4d"),
name_file                  = NULL,
range_dist                 = NULL,
range_dev                  = NULL,
range_qdev                 = NULL,
gradient_deviation         = c(neg = "darkblue", nul = "grey80", pos = "darkred"),
gradient_deviation_quality = c(low = "yellow", high = "red"),
x_lab                      = "Trait-based distance")
fs_qual
ggsave(plot = fs_qual, file  = here::here("figures", "figure1_SM.png"),
height = 12, width = 25, unit = "cm")
# retrieve coordinates of species:
sp_faxes_coord <- fspaces_quality$"details_fspaces"$"sp_pc_coord"
# test correlation between traits and axes:
cor_tr_faxes <- mFD::traits.faxes.cor(
sp_tr          = traits,
sp_faxes_coord = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
plot           = TRUE)
# get the table of correlation:
cor_tr_faxes$tr_faxes_stat
# get the plot:
traits_axes <- cor_tr_faxes$tr_faxes_plot
traits_axes
ggsave(plot = traits_axes, filename  = here::here("figures", "figure2_SM.png"),
height = 12, width = 25, unit = "cm")
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv"))
View(fish)
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
library(tidyverse)
library(dplyr)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
View(fish)
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
View(sp_faxes_coord)
fish <- fish[-c(20), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22, 24), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22, 41), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22, 42), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22, 42, 54), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
fish <- fish[-c(20, 22, 42, 54, 69), ] %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fd_values <- alpha_fd_indices$functional_diversity_indices
View(fd_values)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv")) %>%
column_to_rownames("Site") %>%
as.matrix()
View(fish)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv"))
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv"))
metadata   <- read.csv(here::here("data", "kelp&rocky_metadata.csv"))
View(metadata)
metadata   <- read.csv(here::here("data", "kelp&rocky_metadata.csv"))
fish_tosum <- fish %>%
left_join(metadata, by="Code")
View(fish_tosum)
fish_tosum <- fish %>%
left_join(metadata, by="Code") %>%
relocate(c(Site, Habitat, Transect, Replicate), .before = "Code")
View(fish_tosum)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value))
View(fish_replicates)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate,sep="_"), .before="Site")
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, Habitat, sep="_"), .before="Site") %>%
select(-site)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, Habitat, sep="_"), .before="Site") %>%
select(-Site, -Habitat, -Transect, -Replicate)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, Habitat, sep="_"), .before="Site") %>%
select(-Site, -Habitat,-Replicate)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total")
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species, Code) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total")
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, Habitat, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, Habitat, sep="_"), .before="Site") %>%
select(-Site, -Habitat,-Replicate)
fish <- read.csv(here::here("data", "fish_kelp&rocky_reef.csv"))
metadata   <- read.csv(here::here("data", "kelp&rocky_metadata.csv"))
fish_tosum <- fish %>%
left_join(metadata, by="Code")
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, HabitatID, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, HabitatID, sep="_"), .before="Site") %>%
select(-Site, -HabitatID,-Replicate)
fish_replicates <-fish_tosum %>%
pivot_longer(cols= contains("."), names_to="species") %>%
mutate(value=as.numeric(value)) %>%
group_by(Site, HabitatID, Replicate, species) %>%
summarize(total=sum(value)) %>%
ungroup() %>%
pivot_wider(names_from = "species", values_from = "total") %>%
mutate(Code=paste(Site, Replicate, HabitatID, sep="_"), .before="Site") %>%
select(-Site, -HabitatID,-Replicate) %>%
column_to_rownames("Code") %>%
as.matrix()
### Compute indices:
alpha_fd_indices <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = fish_replicates,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fd_values <- alpha_fd_indices$functional_diversity_indices
View(fd_values)
fd_values_replicates <- alpha_fd_indices$functional_diversity_indices
write.csv(fd_values_replicates, file=here::here("data",
"fd_values_replicates.csv"), row.names = FALSE )
View(fd_values)
View(fish)
View(fish_replicates)
write.csv(fd_values_replicates, file=here::here("data",
"fd_values_replicates.csv") )
metadata_replicates <- read.csv(here::here("data", "kelp&rocky_metadata_replicate.csv"))
# computing biomass of species in each habitat
habitat_fric <- rbind(
Kelp = apply(fish_replicates[metadata[which(metadata_replicates$HabitatID=="K"),"Code"],],2,max ),
Rocky = apply(fish_replicates[metadata[which(metadata_replicates$HabitatID=="R"),"Code"],],2,max )
)
# computing biomass of species in each habitat
habitat_fric <- rbind(
Kelp = apply(fish_replicates[metadata_replicates[which(metadata_replicates$HabitatID=="K"),"Code"],],2,max ),
Rocky = apply(fish_replicates[metadata_replicates[which(metadata_replicates$HabitatID=="R"),"Code"],],2,max )
)
View(habitat_fric)
sp+faxes_coord_habitat <-fspaces_quality$details_fspaces$sp_pc_coord
faxes_coord_habitat <-fspaces_quality$details_fspaces$sp_pc_coord
View(faxes_coord_habitat)
# Retrieve species coordinates matrix for the assemblage "basket_1":
sp_filter <- mFD::sp.filter(asb_nm          = c("Kelp", "Rocky"),
sp_faxes_coord = sp_faxes_coord_habitat,
asb_sp_w       = habitat_fric)
# Retrieve species coordinates matrix for the assemblage "basket_1":
sp_filter <- mFD::sp.filter(asb_nm          = c("Kelp", "Rocky"),
sp_faxes_coord = faxes_coord_habitat,
asb_sp_w       = habitat_fric)
View(faxes_coord_habitat)
View(habitat_fric)
# Retrieve species coordinates matrix for the assemblage "basket_1":
sp_filter <- mFD::sp.filter(asb_nm          = c("Kelp", "Rocky"),
sp_faxes_coord = faxes_coord_habitat,
asb_sp_w       = habitat_fric)
# Set faxes limits:
# set range of axes if c(NA, NA):
range_sp_coord_habitat  <- range(faxes_coord_habitat)
range_faxes_lim <- range_sp_coord_habitat + c(-1, 1)*(range_sp_coord_habitat[2] -
range_sp_coord_habitat[1]) * 0.05
# Retrieve the background plot:
ggplot_bg_habitat <- mFD::background.plot(
range_faxes = range_faxes_lim,
faxes_nm    = c("PC 1", "PC 2"),
color_bg    = "grey90")
ggplot_bg_habitat
sp_faxes_coord_habitat_2D <- faxes_coord_habitat[, c("PC1", "PC2")]
View(sp_faxes_coord_habitat_2D)
vert_nm_habitat <- vertices(sp_faxes_coord_habitat_2D,
order_2D = TRUE, check_input = TRUE)
# Plot in white the convex hull of all fruits species:
ggplot_fric <- mFD::fric.plot(
ggplot_bg       = ggplot_bg_habitat,
asb_sp_coord2D  = list(sp_faxes_coord_habitat_2D),
asb_vertices_nD = list(vert_nm_habitat),
plot_sp         = TRUE,
color_ch        = c("Kelp" = "black", "Rocky" = "red"),
fill_ch         = c("Kelp" = "black", "Rocky" = "red"),
alpha_ch        = c("Kelp" = 0.3, "Rocky" = 0.3),
size_sp = c("Kelp" = 1, "Rocky" = 1),
shape_sp = c("Kelp" = 16, "Rocky" = 16),
color_sp = c("Kelp" = "black", "Rocky" = "red"),
fill_sp = c("Kelp" = "black", "Rocky" = "red"),
size_vert = c("Kelp" = 1, "Rocky" = 1),
color_vert = c("Kelp" = "black", "Rocky" = "red"),
fill_vert = c("Kelp" = "black", "Rocky" = "red"),
shape_vert = c("Kelp" = 16, "Rocky" = 16))
# Plot in white the convex hull of all fruits species:
ggplot_fric <- mFD::fric.plot(
ggplot_bg       = ggplot_bg_habitat,
asb_sp_coord2D  = list(c(sp_faxes_coord_habitat_2D)),
asb_vertices_nD = list(c(vert_nm_habitat)),
plot_sp         = TRUE,
color_ch        = c("Kelp" = "black", "Rocky" = "red"),
fill_ch         = c("Kelp" = "black", "Rocky" = "red"),
alpha_ch        = c("Kelp" = 0.3, "Rocky" = 0.3),
size_sp = c("Kelp" = 1, "Rocky" = 1),
shape_sp = c("Kelp" = 16, "Rocky" = 16),
color_sp = c("Kelp" = "black", "Rocky" = "red"),
fill_sp = c("Kelp" = "black", "Rocky" = "red"),
size_vert = c("Kelp" = 1, "Rocky" = 1),
color_vert = c("Kelp" = "black", "Rocky" = "red"),
fill_vert = c("Kelp" = "black", "Rocky" = "red"),
shape_vert = c("Kelp" = 16, "Rocky" = 16))
fd_habitat <- mFD::alpha.fd.multidim(
sp_faxes_coord   = sp_faxes_coord[, c("PC1", "PC2", "PC3", "PC4")],
asb_sp_w         = habitat_fric,
ind_vect         = c("fric", "feve", "fdiv"),
scaling          = TRUE,
check_input      = TRUE,
details_returned = TRUE)
fd_habitat_replicates <- fd_habitat$functional_diversity_indices
View(fd_habitat_replicates)
plots_alpha <- mFD::alpha.multidim.plot(
output_alpha_fd_multidim = fd_habitat,
plot_asb_nm              = c("Kelp", "Rocky"),
ind_nm                   = c("fric"),
faxes                    = paste0("PC", 1:2),
faxes_nm                 = NULL,
range_faxes              = c(NA, NA),
color_bg                 = "grey95",
shape_sp                 = c(pool = 3, asb1 = 21, asb2 = 21),
size_sp                  = c(pool = 0.7, asb1 = 1, asb2 = 1),
color_sp                 = c(pool = "grey50", asb1 = "mediumseagreen", asb2 = "sienna"),
color_vert               = c(pool = "grey50", asb1 = "mediumseagreen", asb2 = "sienna"),
fill_sp                  = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
fill_vert                = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
color_ch                 = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
fill_ch                  = c(pool = "white", asb1 = "mediumseagreen", asb2 = "sienna"),
alpha_ch                 = c(pool = 1, asb1 = 0.3, asb2 = 0.3),
shape_centroid_fdis      = c(asb1 = 22,  asb2 = 24),
shape_centroid_fdiv      = c(asb1 = 22,  asb2 = 24),
shape_centroid_fspe      = 23,
color_centroid_fspe      = "black",
size_sp_nm               = 3,
#color_sp_nm              = "black",
plot_sp_nm               = NULL,
#fontface_sp_nm           = "plain",
save_file                = FALSE,
check_input              = TRUE)
plot_fric <- plots_alpha$"fric"$"patchwork"
plot_fric
plots_alpha <- mFD::alpha.multidim.plot(
output_alpha_fd_multidim = fd_habitat,
plot_asb_nm              = c("Kelp", "Rocky"),
ind_nm                   = c("fric"),
faxes                    = paste0("PC", 1:3),
faxes_nm                 = NULL,
range_faxes              = c(NA, NA),
color_bg                 = "grey95",
shape_sp                 = c(pool = 3, asb1 = 21, asb2 = 21),
size_sp                  = c(pool = 0.7, asb1 = 1, asb2 = 1),
color_sp                 = c(pool = "grey50", asb1 = "mediumseagreen", asb2 = "sienna"),
color_vert               = c(pool = "grey50", asb1 = "mediumseagreen", asb2 = "sienna"),
fill_sp                  = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
fill_vert                = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
color_ch                 = c(pool = NA, asb1 = "mediumseagreen", asb2 = "sienna"),
fill_ch                  = c(pool = "white", asb1 = "mediumseagreen", asb2 = "sienna"),
alpha_ch                 = c(pool = 1, asb1 = 0.3, asb2 = 0.3),
shape_centroid_fdis      = c(asb1 = 22,  asb2 = 24),
shape_centroid_fdiv      = c(asb1 = 22,  asb2 = 24),
shape_centroid_fspe      = 23,
color_centroid_fspe      = "black",
size_sp_nm               = 3,
#color_sp_nm              = "black",
plot_sp_nm               = NULL,
#fontface_sp_nm           = "plain",
save_file                = FALSE,
check_input              = TRUE)
plot_fric <- plots_alpha$"fric"$"patchwork"
plot_fric
ggsave(plot = plot_fric, file  = here::here("figures", "figure3.png"),
height = 25, width = 25, unit = "cm")
rm(list=ls()) # cleaning memory
library(ggpubr)
library(glmmTMB)
library(emmeans)
library(ggplot2)
library(dplyr)
library(DHARMa)
library(here)
fd_values <- read.csv(here::here("data", "fd_values_replicates.csv"))
metadata <- read.csv(here::here("data", "kelp&rocky_metadata_replicate.csv"))
source("C:/Users/Paula Sgarlatta/Google Drive/Articulo/Segunda ronda/R codes/FunctionalDiversity_Baja2022/scripts/2_analysis_FD.R", echo=TRUE)
library(dplyr)
View(fd_values)
fd_stats <- fd_values %>%
left_join(metadata, by=c("X"="Code"))
View(fd_stats)
View(fd_stats)
fd_stats <- fd_values %>%
left_join(metadata, by=c("X"="Code")) %>%
select(-X, -HabitatID, -Replicate)
fd_stats <- fd_values %>%
left_join(metadata, by=c("X"="Code")) %>%
select(-X, -HabitatID, -Replicate) %>%
relocate(Site, Habitat, .before = "sp_richn")
sp_kelp <- fd_stats %>%
filter(Habitat =="Kelp")
ggqqplot(sp_kelp$sp_richn)
sp_rocky<- fd_stats %>%
filter(Habitat =="Rocky")
ggqqplot(sp_rocky$sp_richn)
t.test(sp_kelp$sp_richn,sp_rocky$sp_richn, var.equal=TRUE)
#Normality
ggqqplot(sp_kelp$fric)
ggqqplot(sp_rocky$fric)
View(sp_rocky)
View(sp_kelp)
t.test(sp_kelp$fric,sp_rocky$fric, var.equal=TRUE)
#Normality
ggqqplot(sp_kelp$feve)
ggqqplot(sp_rocky$feve)
t.test(sp_kelp$feve,sp_rocky$feve, var.equal=TRUE)
#Normality
ggqqplot(sp_kelp$fdiv)  ## only few points outside
ggqqplot(sp_rocky$fdiv)     ## only few points outside
ggqqplot(sp_rocky$fdiv)     ## only few points outside
t.test(sp_kelp$fdiv,sp_rocky$fdiv, var.equal=TRUE)
View(fd_values)
sp_habitat <- glmmTMB(sp_richn ~ Habitat + (1|Site), data = fd_stats,
family = poisson())
summary(sp_habitat)
Anova(sp_habitat)
library(car)
Anova(sp_habitat)
fric_habitat <- glmmTMB(fric ~ Habitat + (1|Site), data = fd_stats,
family = beta_family())
summary(fric_habitat)
Anova(fric_habitat) #p=0.6
